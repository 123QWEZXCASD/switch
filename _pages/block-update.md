---
permalink: /block-update.html
title: Блокировка обновлений и доступа к серверам Nintendo
author_profile: true
---
{% include toc title="Разделы" %}

## Теоретическая часть 

Существует два типа блокировки обновлений. Первый блокирует доступ к серверам Nintendo, и только к ним, на стороне консоли. Второй удаляет из приставки информацию, которая идентифицирует консоль на серверах Nintendo. Условно назовём первый метод **методом с помощью DNS**, а второй - **Incognito**, по названию программы, которая его реализует. Блокировка необходима для пользователей Atmosphere, для пользователей SXOS имеет смысл только использование Incognito, поскольку у них, внутри самой SX, есть Stealth Mode, который блокирует сервера Nintendo силами самой SXOS

## **Метод с помощью DNS**

### Плюсы

* Не требует взаимодействия с системными файлами

### Минусы

* Зависит от человека, владеющего DNS-сервером
* В случае изменения адресов сервера авторизации Nintendo, владелец DNS-сервера может не успеть внести их в базу вовремя и вам может прилететь обновление прошивки
* Требует настройки для каждой новой точки доступа
* Так как блокируется доступ ко всем серверам Nintendo, некоторые приложения, которые подтягивают оттуда информацию, например, /hbg/shop, могут работать неправильно 

### Инструкция

1. Включите приставку и перейдите в "**Системные настройки**" -> "**Интернет**" -> "**Интернет-настройки**"
1. Нажмите на каждую точку доступа в разделе "**Зарегистрированные сети**" и выберите "**Удалить настройки**" -> "**Удалить**"
	* Либо пропишите DNS для каждой из имеющихся. Удалять точки доступа нужно для того, чтобы приставка случайно не вышла в интернет 
1. Перейдите в "**Системные настройки**" -> "**Интернет**" -> "**Интернет-настройки**"
1. Подключитесь к вашей WiFi-сети 
1. После успешного подключения снова перейдите в "**Интернет-настройки**" и выберите вашу WiFi-сеть 
1. Выберите "**Изменить настройки**" -> "**Настройки DNS**" -> "**Ручной ввод**"
1. В поле "**Первичный DNS**" введите `163.172.141.219`
1. В поле "**Вторичный DNS**" введите `45.248.48.62` и нажмите "**Сохранить**", а затем OK
1. Выберите "**Подключиться к этой сети**", после проверки нажмите ОК
1. Попробуйте зайти в eShop, если при входе в eShop вы получаете ошибку **2811-1007**, то вы всё сделали верно. 
	* Ошибка **2124-4007** говорит о том, что DNS работают верно+ваша консоль уже в бане
	* Ошибка **2137-7403** говорит о том, что у вас бан и что DNS прописаны не верно

## **Метод "Incognito"**

### Плюсы

* Не блокирует доступ к серверам Nintendo, а блокирует возможность авторизации на них. То есть при общении с сервером Nintendo сервер попросту не будет воспринимать консоль как Switch 
* Будет работать даже если Nintendo изменит способ авторизации, адреса серверов или мало ли еще что 
* Не требует дополнительной настройки 

### Минусы

* Требует взаимодействия с системными файлами через приложение, поэтому потенциально опасен
* Написан Blawar'ом - не самой однозначной персоной на Switch сцене
	* Если вы используете или планируете использовать /hbg/shop, то переживать не о чем - он тоже им написан :)
	
### Инструкция

1. Включите приставку и перейдите в "**Системные настройки**" -> "**Интернет**" -> "**Интернет-настройки**"
1. Нажмите на каждую точку доступа в разделе "**Зарегистрированные сети**" и выберите "**Удалить настройки**" -> "**Удалить**"
	* Удалять точки доступа нужно для того, чтобы не возникало конфликтов с прописанными там DNS
1. Создайте [резервную копию NAND](backup-nand){:target="_blank"} консоли и поместите её в надёжное место 

* Для пользователей Atmosphere
	1. Перезагрузите консоль через меню и во время появления логотипа <abbr title="Сборник, состоящий из выбранного кастома, необходимых программ и скриптов, которые все это установят правильным образом. Состав кефира и инструкцию по установке можно посмотреть в его репозитории">[kefir](https://github.com/rashevskyv/switch/releases/latest){:target="_blank"}</abbr> нажмите (VOL-). Оказавшись в hekate вытащите карту памяти из консоли 
	1. Вставьте карту памяти приставки в ПК 
	1. Установите <abbr title="Сборник, состоящий из выбранного кастома, необходимых программ и скриптов, которые все это установят правильным образом. Состав кефира и инструкцию по установке можно посмотреть в его репозитории">[kefir](https://github.com/rashevskyv/switch/releases/latest){:target="_blank"}</abbr> по инструкции из репозитория, **выбрав SXOS**
		* Необходимо сделать для запуска **Incognito**. На Atmosphere приложение работать не будет 
	1. Вставьте карту памяти обратно в приставку и выберите в hekate **Launch** -> **SXOS**
	1. Приставка должна загрузиться в загрузчик SX OS
		* Если загрузка зависла на белом экране, или в любом другом месте, перегрузите консоль, удерживая кнопку (POWER) 15 секунд и повторите запуск снова
	1. Нажмите "**Boot Custom FW**"
	1. Нажмите ""**Continue**"
	1. Нажмите ""**Continue**"
		* Приставка загрузится в SXOS 

* Находясь в SXOS
	1. Запустите Альбомы, удерживая кнопку (R)
	1. Выберите **Incognito**
	1. Нажмите (A), чтобы инициировать установку 
	1. Нажмите (A), чтобы подтвердить начало установки 
		* Несколько секунд может казаться, что ничего не происходит. Просто подождите,, не нужно долбить на кнопку 
	1. Нажмите (+), чтобы перезагрузить приставку 
	1. Удерживайте (VOL-), чтобы попасть в hekate
	1. Вставьте карту памяти приставки в ПК 
	1. Скопируйте содержимое папки `switch/incognito` в надежное место - это бекап вашего PRODINFO в не измененном состоянии
		* Для пользователей SXOS установка окончена
		* Чтобы вернуться на Atmosphere продолжайте выполнение инструкции 

* Установка Atmosphere
	1. Установите Atmosphere из `.7z`-архива <abbr title="Сборник, состоящий из выбранного кастома, необходимых программ и скриптов, которые все это установят правильным образом. Состав кефира и инструкцию по установке можно посмотреть в его репозитории">[kefir](https://github.com/rashevskyv/switch/releases/latest){:target="_blank"}</abbr>, согласно инструкции в репозитории
	1. Вставьте карту в консоль
	1. Запустите пейлоад `payload.bin` с помощью [Fusée Gelée](fusee-gelee){:target="_blank"}
	
## Подключение к Интернету 

Можете использовать интернет-подключение