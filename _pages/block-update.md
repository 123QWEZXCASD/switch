---
permalink: /block-update.html
title: Блокировка обновлений и доступа к серверам Nintendo
author_profile: true
---
{% include toc title="Разделы" %}

## Теоретическая часть 

Существует два типа блокировки обновлений. Первый блокирует доступ к серверам Nintendo, и только к ним, на стороне консоли. Второй удаляет из приставки информацию, которая идентифицирует консоль на серверах Nintendo. Условно назовём первый метод **методом с помощью DNS**, а второй - **Incognito**, по названию программы, которая его реализует. Блокировка необходима для пользователей Atmosphere, для пользователей SXOS имеет смысл только использование Incognito, поскольку у них, внутри самой SX, есть Stealth Mode, который блокирует сервера Nintendo силами самой SXOS

{% spoiler Блокировка с помощью DNS %}

### Плюсы

* Не требует взаимодействия с системными файлами

### Минусы

* Зависит от человека, владеющего DNS-сервером
* В случае изменения адресов сервера авторизации Nintendo, владелец DNS-сервера может не успеть внести их в базу вовремя и вам может прилететь обновление прошивки
* Требует настройки для каждой новой точки доступа
* Так как блокируется доступ ко всем серверам Nintendo, некоторые приложения, которые подтягивают оттуда информацию, например, /hbg/shop, могут работать неправильно 

### Инструкция

{% include inc/dns.txt dns1="163.172.141.219" dns2=', в поле "**Вторичный DNS**" введите `45.248.48.62`' %}
1. Нажмите ОК
1. Попробуйте зайти в eShop, если при входе в eShop вы получаете ошибку **2811-1007**, то вы всё сделали верно. 
	* Ошибка **2124-4007** говорит о том, что DNS работают верно + ваша консоль уже в бане
	* Ошибка **2137-7403** говорит о том, что у вас бан и что DNS прописаны не верно
	
{% endspoiler %}

{% spoiler Блокировка с помощью программы Incognito %}

### Плюсы

* Не блокирует доступ к серверам Nintendo, а блокирует возможность авторизации на них. То есть при общении с сервером Nintendo сервер попросту не будет воспринимать консоль как Switch 
* Будет работать даже если Nintendo изменит способ авторизации, адреса серверов или мало ли еще что 
* Не требует дополнительной настройки 

### Минусы

* Требует взаимодействия с системными файлами через приложение, поэтому потенциально опасен
* Написан Blawar'ом - не самой однозначной персоной на Switch сцене
	* Если вы используете или планируете использовать /hbg/shop, то переживать не о чем - он тоже им написан :)
	
### Инструкция

1. Включите приставку и перейдите в "**Системные настройки**" -> "**Интернет**" -> "**Интернет-настройки**"
1. Нажмите на каждую точку доступа в разделе "**Зарегистрированные сети**" и выберите "**Удалить настройки**" -> "**Удалить**"
	* Удалять точки доступа нужно для того, чтобы не возникало конфликтов с прописанными там DNS
1. Создайте [резервную копию NAND](backup-nand){:target="_blank"} консоли и поместите её в надёжное место, если ещё не делали этого
1. Установите {% include abbr/kefir_addr.txt %} по инструкции из репозитория, если ещё не делали этого
1. Перезагрузите консоль через меню и во время появления логотипа {% include abbr/kefir_addr.txt %} нажмите (VOL-). Оказавшись в hekate вытащите карту памяти из консоли 
1. Вставьте карту памяти приставки в ПК 
1. Скачайте [`incognito.zip`](files/incognito.zip){:target="_blank"}. Поместите содержимое архива `incognito.zip` в корень вашей карты памяти 
1. Вставьте карту памяти обратно в приставку и [запустите кастомную прошивку](cfw)
1. Запустите [Homebrew Launcher](hbl){:target="_blank"}
1. Выберите **Incognito**
1. Нажмите (A), чтобы инициировать установку 
1. Нажмите (A), чтобы подтвердить начало установки 
	* Несколько секунд может казаться, что ничего не происходит. Просто подождите,, не нужно долбить на кнопку 
1. Нажмите (+), чтобы перезагрузить приставку 
1. Снова запустите incognito. Если серийник в первой строке `XAW00000000000`, то всё сделано правильно
1. Удерживайте (VOL-), чтобы попасть в hekate
1. Вставьте карту памяти приставки в ПК 
1. Скопируйте содержимое папки `switch/incognito` в надежное место - это бекап вашего PRODINFO в не измененном состоянии
1. Удалите файл `/switch/incognito/incognito.nro`
1. Удалите папку `/atmosphere`, если **вы пользователь только SXOS**
1. Удалите `/atmosphere/flags` и `/atmosphere/kips/ams_mitm.kip`, если **вы пользуетесь Atmosphere**
1. Вставьте карту памяти обратно в приставку и [запустите кастомную прошивку](cfw)
1. Можете использовать интернет-подключение
{% endspoiler %}

___

[Закрыть страницу](javascript:window.close();)
{: .notice--success}