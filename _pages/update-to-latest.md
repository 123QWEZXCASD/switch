---
permalink: /update-to-latest.html
title: Безопасное обновление прошивки 
author_profile: true
---
{% include toc title="Разделы" %}

Для удобства использования взлома в данный момент лучшим решением будет обновить прошивку до актуальной - {% include /vars/sys_version.txt %}. Однако, если ваша прошивка была ниже, чем 5.0.0. то обновившись вы рискуете остаться без колдбута, который, возможно, когда-нибудь нам подарят авторы атмосферы. Наиболее правильным решением в такой ситуации будет обновление с возможностью даунгрейда. 

В обычном режиме при установке прошивки, консоль проверяет количество сожжённых предохранителей. Если это количество больше, чем требуется для прошивки, то консоль понимает, что вы пытаетесь установить прошивку ниже, чем была установлена до этого и не позволит это сделать. Если же количество сожжённых предохранителей ниже, чем требует устанавливаемая прошивка, то прошивка разрешается и в ходе неё сжигается столько предохранителей сколько необходимо, чтобы соответствовать указанному в прошивке количеству. Таким образом вы не можете восстановить бекап своей старой прошивки, если её версия ниже, чем текущая. 

Однако, все это можно обойти. 

Обязательно сделайте резервную копию всех сохранений и важных данных, если таковые имеются, с помощью [Homebrew Launcher](launch-hbl){:target="_blank"} и соответствующей программы!

# Что понадобится

* Умение [запускать пейлоады через Fusée Gelée](fusee-gelee){:target="_blank"}
* Свежая версия пейлоада [hekate](https://github.com/CTCaer/hekate/releases/latest){:target="_blank"}
* [Ключи](/files/keys.zip){:target="_blank"}, одинаковые для всех консолей
* Свежая версия [briccmii](https://switchtools.sshnuke.net/){:target="_blank"}

# Инструкция

## Часть I - Резервное копирование NAND

Этот пункт нужно делать **обязательно**! Для продолжения работы нам понадобятся уникальные ключи именно вашей приставки!
{: .notice--warning}

1. Создайте [резервную копию NAND](backup-nand){:target="_blank"} консоли и поместите её в надёжное место 

## Часть II - Проверка количества сожжённых предохранителей

1. Запустите пейлоад [hekate](https://github.com/CTCaer/hekate/releases/latest){:target="_blank"} с помощью [Fusée Gelée](fusee-gelee){:target="_blank"}

	Для перемещения по меню, hekata используйте клавиши (VOL-) и (VOL+), для выбора - (POWER)
	{: .notice--info}
	
1. Перейдите в меню "Console info..." -> "Print fuse info"
1. Запомните или запишите число напротив строки "Burnt fuses" - оно и будет означать количество сожжённых предохранителей. 
	* 1 сгоревший соответствуют прошивке 1.0.0
	* 2 сгоревших соответствуют прошивке 2.0.0-2.3.0
	* 3 сгоревших соответствуют прошивке 3.0.0
	* 4 сгоревших соответствуют прошивке 3.0.1-3.0.2
	* 5 сгоревших соответствуют прошивке 4.0.0-4.1.0
	* 6 сгоревших соответствуют прошивке 5.х.х
1. Нажмите любую кнопку для выхода в меню
1. Выберите "Back", чтобы вернуться в главное меню

## Часть III - Активация AutoRCM

1. Запустите пейлоад [briccmii](https://switchtools.sshnuke.net/){:target="_blank"} с помощью [Fusée Gelée](fusee-gelee){:target="_blank"}, держите в уме, что приставка уже в RCM
1. На Switch откроется окно программы "briccmii" - эта программа создана для контроля режима AutoRCM 

	AutoRCM - на консоли специальным образом портится BOOT0, вследствие чего консоль не может загрузиться прямо в систему и загружается автоматически в режим RCM. Достаточно просто включить консоли и она автоматически попадёт в режим восстановления. Не нужно зажимать комбинацию кнопок и использовать замыкатель!
	{: .notice--info}

1. Нажмите (VOL+) для отключения AutoRCM
1. Нажмите (POWER) для перезагрузки консоли в режим RCM 
1. Снова передайте пейлоад briccmii на консоль  
1. Нажмите (VOL-) для включения AutoRCM
1. Нажмите (POWER) для перезагрузки консоли в режим RCM 

	Теперь приставка всегда при включении будет находится в режиме RCM. Не отключайте AutoRCM, если не хотите сжечь предохранитель. Единственная загрузка консоли вне этого режима гарантированно сожжёт предохранитель!
	
1. Запустите пейлоад [hekate](https://github.com/CTCaer/hekate/releases/latest){:target="_blank"} с помощью [Fusée Gelée](fusee-gelee){:target="_blank"}, имея ввиду, что после выключения консоли вы автоматически попадаете в режим RCM 

	Для перемещения по меню, hekata используйте клавиши (VOL-) и (VOL+), для выбора - (POWER)
	{: .notice--info}
	
1. Перейдите в "Launch firmware" 
1. Приставка загрузится в штатном режиме 

## Часть IV - Обновление прошивки

1. Активируйте интернет-соединение
1. Перейдите в "Системные настройки" -> "Система"  -> "Обновление системы" и согласитесь на обновление 
1. Как только обновление закончится, система автоматически перезагрузится, но так как вы активировали AutoRCM, приставка сразу перейдёт в режим RCM
1. Проверьте не сгорели ли после обновления предохранители, выполнив ещё раз [Часть II](#%D0%A7%D0%B0%D1%81%D1%82%D1%8C-ii---%D0%9F%D1%80%D0%BE%D0%B2%D0%B5%D1%80%D0%BA%D0%B0-%D0%BA%D0%BE%D0%BB%D0%B8%D1%87%D0%B5%D1%81%D1%82%D0%B2%D0%B0-%D1%81%D0%BE%D0%B6%D0%B6%D1%91%D0%BD%D0%BD%D1%8B%D1%85-%D0%BF%D1%80%D0%B5%D0%B4%D0%BE%D1%85%D1%80%D0%B0%D0%BD%D0%B8%D1%82%D0%B5%D0%BB%D0%B5%D0%B9){:target="_blank"}
1. Выключите консоль, удерживая кнопку (POWER) 15 секунд


___

# Следующий шаг: [Запуск кастомной прошивки](launch-cfw) 
{: .notice--success}